{% extends "base.html" %}

{% block title %}Transfer Money{% endblock %}

{% block content %}
<div class="column is-9">
    <div class="box p-6">
        <h1 class="title is-2 mb-5"><i class="fas fa-exchange-alt has-text-info mr-3"></i>Transfer Money</h1>
        <p class="mb-5 blackit">Make sure you are logged into the right account and have sufficient balance.</p>

        <div class="box p-5 mb-6 has-background-white-ter blackit" style="border: 1px solid #ddd;">
            <h2 class="subtitle is-4 mb-4 blackit">Your Details</h2>
            <ul class="content">
                <li><strong class="blackit">Name:</strong> {{ session['fname'] }} {{ session['lname'] }}</li>
                <li><strong class="blackit">Account No:</strong> {{ account_no }}</li>
                <li><strong class="blackit">Bank Balance:</strong> <span class="has-text-info">${{ bank_balance }}</span></li>
            </ul>
        </div>

        <div class="box p-5 has-background-white-ter blackit" style="border: 1px solid #ddd;">
            <h2 class="subtitle is-4 mb-4 blackit">Transfer Details</h2>
            <form method="post">
                <div class="field mb-4">
                    <label class="label blackit" for="receiver">Send to</label>
                    <div class="control">
                        <input class="input" type="text" name="receiver" placeholder="Recipient username" required value="{{ forminfo['receiver'] if forminfo else '' }}">
                    </div>
                </div>

                <div class="field mb-4">
                    <label class="label blackit" for="amount">Amount</label>
                    <div class="control">
                        <input class="input" type="number" name="amount" min="5" step="1" placeholder="Min $5.00" required value="{{ forminfo['rec'] if forminfo else '' }}">
                    </div>
                </div>

                <div class="field mb-4">
                    <label class="label blackit" for="memo">Memo</label>
                    <div class="control">
                        <input class="input" type="text" name="memo" placeholder="Optional note" value="{{ forminfo['memo'] if forminfo else '' }}">
                    </div>
                </div>

                <div class="field">
                    <div class="control">
                        <button class="button is-info">Submit</button>
                    </div>
                </div>

                {% if get_flashed_messages() %}
                <div class="notification is-warning mt-4 blackit">
                    {% for m in get_flashed_messages() %}
                        <p>{{ m }}</p>
                    {% endfor %}
                </div>
                {% endif %}
            </form>
        </div>
    </div>
</div>
{% endblock %}
